function e(e){return e.getBoundingClientRect()}function t(e,t){if(1!==e.nodeType)return[];const n=window.getComputedStyle(e,null);return t?n[t]:n}function n(e){return null!==e&&"object"==typeof e}function i(e){return Array.isArray(e)}function r(...e){const t=Object.create(null);function o(e,s){n(t[s])&&n(e)?t[s]=r(t[s],e):n(e)?t[s]=r({},e):i(e)?t[s]=e.slice():t[s]=e}for(var p=0,l=arguments.length;p<l;p++)s(arguments[p],o);return t}function s(e,t){if(null!=e)if(n(e)||(e=[e]),i(e))for(var r=0;r<e.length;r++)t.call(null,e[r],r,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}function o(e){return!!e&&"BODY"===e.nodeName}function p(e){if(!e||-1!==["HTML","BODY","#document"].indexOf(e.nodeName))return window.document.body;const{overflow:n,overflowX:i,overflowY:r}=t(e);return/(auto|scroll)/.test(n+r+i)?e:p(d(e))}function l(e,t=[]){let n=p(d(e));return o(p(d(e)))||(l(n,t),t.push(n)),t}function d(e){return"HTML"===e.nodeName?e:e.parentNode}function h(e,t){n(t)&&s(t,(function(t,n){e.style[n]=t}))}const c={position:"absolute",top:0,left:0,bottom:"auto",right:"auto",opacity:0},a=function(e,t,n){n.placement=n.placement||"bottom",this.defaults=n,this.reference=e,this.popper=t,this.popperDom=null,this.popperStyleDisplay="block",this.translate={left:0,top:0},this.hideTimer=null,this.hideByDisplayTimer=null,this.show=y,this.hide=b,this.bindEvents={referenceMouseenterBind:f.bind(this),referenceMouseleaveBind:v.bind(this),popperMouseenterBind:f.bind(this),popperMouseleaveBind:v.bind(this),referenceClickBind:f.bind(this),referenceContextmentBind:u.bind(this)},this.triggerName=this.defaults.trigger,Object.defineProperty(this.defaults,"trigger",{get:()=>this.triggerName,set:e=>{this.triggerName=e,this._removeElementListener()}}),this._init(),this._addElementListener()};function u(e){f.apply(this),window.addEventListener("click",(()=>{v.apply(this)})),this.popper.addEventListener("click",(e=>{e.stopPropagation()})),e.preventDefault()}function f(n){clearTimeout(this.hideTimer),clearTimeout(this.hideByDisplayTimer);let i=this.defaults;if(!this.popperDom&&("resize"===n||"scroll"===n))return;let r=t(this.popper,"display");if(this.popperDom&&["click"].includes(i.trigger)&&"none"!==r&&"scroll"!==n)return void v.apply(this);if(this.popperDom||(document.body.appendChild(this.popper),this.popperDom=1),("resize"===n||"scroll"===n)&&"none"===r)return;h(this.popper,{display:"none"!==r&&r?r:this.popperStyleDisplay});const o=e(this.reference),p=e(this.popper);let l=0,d=0;switch(["bottom","top"].includes(i.placement)&&s(["bottom","top"],(function(){d=o.left+o.width/2-p.width/2})),["left","right"].includes(i.placement)&&s(["left","right"],(function(){l=o.top+o.height/2-p.height/2})),i.placement){case"bottom":l=o.top+o.height+(i.offset||0);break;case"top":l=o.top-p.height-(i.offset||0);break;case"left":d=o.left-p.width-(i.offset||0);break;case"right":d=o.left+o.width+(i.offset||0)}l+=window.pageYOffset,d+=window.pageXOffset;let c="translate("+d+"px,"+l+"px)";var a,u;this.translate={left:d,top:l},h(this.popper,{transform:c,"z-index":i.zIndex}),i.animate?h(this.popper,{transition:"opacity "+(i.speed?(i.speed/1e3).toFixed(1)+"s":"0s")}):(a=this.popper,u="transition",a.style.removeProperty(u)),m.apply(this)}function m(){this.popper.style.opacity=1}function v(){let e=this.defaults;this.hideTimer=setTimeout((()=>{this.popper.style.opacity=0,this.hideByDisplayTimer=setTimeout((()=>{this.popper.style.display="none"}),e.animate?this.defaults.speed-80:0)}),80)}function y(){f.apply(this)}function b(){v.apply(this)}a.prototype._init=function(){h(this.popper,c);let e=t(this.popper,"display");"none"===e?this.popper.style.display="block":this.popperStyleDisplay=e||this.popperStyleDisplay,o(d(this.popper))?this.popperDom=1:this.popper.parentNode.removeChild(this.popper)},a.prototype._addElementListener=function(){let e=this.defaults;switch(e.trigger){case"hover":this.reference.addEventListener("mouseenter",this.bindEvents.referenceMouseenterBind),this.reference.addEventListener("mouseleave",this.bindEvents.referenceMouseleaveBind),this.popper.addEventListener("mouseenter",this.bindEvents.popperMouseenterBind),this.popper.addEventListener("mouseleave",this.bindEvents.popperMouseleaveBind);break;case"click":this.reference.addEventListener("click",this.bindEvents.referenceClickBind);break;case"contextmenu":this.reference.addEventListener("contextmenu",this.bindEvents.referenceContextmentBind)}window.addEventListener("resize",(()=>{f.apply(this,["resize"])})),s(l(this.reference),(n=>{void 0!==n&&n.addEventListener("scroll",(()=>{let n=t(this.popper,"display");["click","contextmenu"].includes(e.trigger)&&"none"!==n?f.apply(this,["scroll"]):"none"!==n&&v.bind(this)}))}))},a.prototype._removeElementListener=function(){this.reference.removeEventListener("mouseenter",this.bindEvents.referenceMouseenterBind),this.reference.removeEventListener("mouseleave",this.bindEvents.referenceMouseleaveBind),this.popper.removeEventListener("mouseenter",this.bindEvents.popperMouseenterBind),this.popper.removeEventListener("mouseleave",this.bindEvents.popperMouseleaveBind),this.reference.removeEventListener("click",this.bindEvents.referenceClickBind),this.reference.removeEventListener("contextmenu",this.bindEvents.referenceContextmentBind),this._addElementListener()};const g={placement:"bottom",trigger:"hover",offset:10,animate:!0,speed:400,zIndex:2e3};function E(e,t,n){if(!e)return void console.error("reference element cannot be empty");if(!t)return void console.error("popper element cannot be empty");var i=r(g,n||{});return new a(e,t,i)}E.defaults=g;export{E as default};
//# sourceMappingURL=index.esm.min.js.map
